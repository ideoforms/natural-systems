/*-------------------------------------------------------------------*
 *
 * LangtonsAnt: Langton's Ant, a 2D Turing machine.
 *
 * Written by Daniel Jones (2009, 2018)
 *   <http://www.erase.net>
 *
 * This program can be freely distributed and modified under the
 * terms of the MIT License.
 *   <https://opensource.org/licenses/MIT> 
 *
 *-------------------------------------------------------------------*/

/*--------------------------------------------------------------------------------
 * Width of the grid, in cells.
 *-------------------------------------------------------------------------------*/
int GRID_WIDTH = 40;

/*--------------------------------------------------------------------------------
 * Frame rate (frames per second)
 *-------------------------------------------------------------------------------*/
int FRAME_RATE = 2;

/*--------------------------------------------------------------------------------
 * Cell size. (This is automatically generated.)
 *-------------------------------------------------------------------------------*/
int CELL_SIZE;

/*--------------------------------------------------------------------------------
 * Ant colour.
 *-------------------------------------------------------------------------------*/
color ANT_COLOR = color(255, 0, 0);

/*--------------------------------------------------------------------------------
 * Trail colour.
 *-------------------------------------------------------------------------------*/
color TRAIL_COLOR = color(0, 0, 0);

Grid grid;
Ant ant;

void setup()
{
  size(800, 800);
  CELL_SIZE = width / GRID_WIDTH;
  smooth();
  frameRate(FRAME_RATE);
  
  /*--------------------------------------------------------------------------------
   * Create the grid and ant.
   *-------------------------------------------------------------------------------*/
  grid = new Grid(GRID_WIDTH);
  ant = new Ant(GRID_WIDTH / 2, GRID_WIDTH / 2, grid);
}

void draw()
{
  /*--------------------------------------------------------------------------------
   * Clear the background at the start of each frame.
   *-------------------------------------------------------------------------------*/
  background(255);
  noStroke();
  
  /*--------------------------------------------------------------------------------
   * Move the ant.
   *-------------------------------------------------------------------------------*/
  ant.move();

  /*--------------------------------------------------------------------------------
   * Draw the grid and ant.
   *-------------------------------------------------------------------------------*/
  fill(TRAIL_COLOR);
  grid.draw();
  fill(ANT_COLOR);
  ant.draw();
}
